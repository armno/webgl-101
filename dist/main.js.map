{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.ts","webpack:///./src/index.ts","webpack:///./src/shader.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","import { Shader } from './shader';\n\nexport class App {\n\tprivate gl: WebGLRenderingContext;\n\tprivate shaderProgram: WebGLProgram;\n\tprivate shader: Shader;\n\n\tconstructor() {\n\t\tconst canvas = <HTMLCanvasElement>document.getElementById('canvas');\n\t\tthis.gl = canvas.getContext('webgl');\n\t\tthis.shader = new Shader();\n\n\t\tthis.gl.viewport(0, 0, canvas.width, canvas.height);\n\t\tthis.gl.clearColor(0, 0, 0, 1);\n\t}\n\n\tinit() {\n\t\tthis.createShaders();\n\t\tthis.createVertices();\n\t\tthis.draw();\n\t}\n\n\tdraw() {\n\t\tthis.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\t\tthis.gl.drawArrays(this.gl.TRIANGLES, 0, 3);\n\t}\n\n\tcreateShaders() {\n\t\t// to put webgl shaders into the page, we need to create a 'program',\n\t\t// and attach vertex & fragment shaders into the program\n\t\tthis.shaderProgram = this.shader.initShaderProgram(this.gl);\n\t\tthis.gl.useProgram(this.shaderProgram);\n\t}\n\n\t// pass in attributes from the main program (js) to shaders\n\t// so we can set dynamic values to the shaders here\n\tcreateVertices() {\n\t\tconst vertices = [0.1, -0.5, 0.0, -0.9, 0.9, 0.0, 0.5, 0.9, 0.0];\n\t\tconst buffer = this.gl.createBuffer();\n\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\n\t\tthis.gl.bufferData(\n\t\t\tthis.gl.ARRAY_BUFFER,\n\t\t\tnew Float32Array(vertices),\n\t\t\tthis.gl.STATIC_DRAW\n\t\t);\n\n\t\tconst coords = this.gl.getAttribLocation(this.shaderProgram, 'coords');\n\t\tthis.gl.vertexAttribPointer(coords, 3, this.gl.FLOAT, false, 0, 0);\n\t\tthis.gl.enableVertexAttribArray(coords);\n\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n\n\t\tconst point = this.gl.getAttribLocation(this.shaderProgram, 'pointSize');\n\t\tthis.gl.vertexAttrib1f(point, 100);\n\n\t\tconst color = this.gl.getUniformLocation(this.shaderProgram, 'color');\n\t\tthis.gl.uniform4f(color, 1, 1, 0, 0.7);\n\t}\n}\n","import { App } from './app';\n\nconst app = new App();\napp.init();\n","export class Shader {\n\tconstructor() {}\n\n\tinitShaderProgram(gl: WebGLRenderingContext): WebGLProgram {\n\t\tconst shaderProgram = gl.createProgram();\n\t\tconst vs = this.createVertexShader(gl);\n\t\tconst fs = this.createFragmentShader(gl);\n\n\t\tgl.attachShader(shaderProgram, vs);\n\t\tgl.attachShader(shaderProgram, fs);\n\t\tgl.linkProgram(shaderProgram);\n\n\t\tif (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n\t\t\tconsole.error(\n\t\t\t\t'Unable to initialize the shader program',\n\t\t\t\tgl.getProgramInfoLog(shaderProgram)\n\t\t\t);\n\t\t\treturn null;\n\t\t}\n\n\t\treturn shaderProgram;\n\t}\n\n\t/**\n\t * VertexShader - position, size\n\t */\n\tcreateVertexShader(gl: WebGLRenderingContext): WebGLShader {\n\t\t// shader for the point\n\t\t// set its position and size\n\t\t// vec4(x, y, z, w)\n\t\t//\n\t\t// create 2 attributes that can be referenced from the main program\n\t\tconst vs = `\n\t\tattribute vec4 coords;\n\t\tattribute float pointSize;\n\t\tvoid main(void) {\n\t\t\tgl_Position = coords;\n\t\t\tgl_PointSize = pointSize;\n\t\t}\n\t\t`;\n\n\t\treturn this.loadShader(gl, gl.VERTEX_SHADER, vs);\n\t}\n\n\t/**\n\t * FragmentShader - color\n\t */\n\tcreateFragmentShader(gl: WebGLRenderingContext): WebGLShader {\n\t\t// set the point's color in a fragmentShader\n\t\t// vec4(red, green, blue, alpha)\n\t\t// for color, we need a `uniform` instead of an attribute\n\t\tconst fs = `\n\t\tprecision mediump float;\n\t\tuniform vec4 color;\n\t\tvoid main(void) {\n\t\t\tgl_FragColor = color;\n\t\t}\n\t\t`;\n\n\t\treturn this.loadShader(gl, gl.FRAGMENT_SHADER, fs);\n\t}\n\n\tloadShader(\n\t\tgl: WebGLRenderingContext,\n\t\ttype: GLenum,\n\t\tsource: string\n\t): WebGLShader {\n\t\tconst shader: WebGLShader = gl.createShader(type);\n\t\tgl.shaderSource(shader, source);\n\t\tgl.compileShader(shader);\n\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\t\tconsole.error(`Error compiling shader: ${gl.getShaderInfoLog(shader)}`);\n\t\t\tgl.deleteShader(shader);\n\t\t\treturn null;\n\t\t}\n\n\t\treturn shader;\n\t}\n}\n"],"sourceRoot":""}